/*@import url('file:///home/<username>/.cache/wal/colors.css');*/

:root {
    --background: <background>;
    --background-main: <background-main>;
    --foreground: <foreground>;
    --color7: <accent>;
}

#main-window {
    font-size: 0.85em !important;
    /* We decided that we wanted a bit lighter color as background
       and wal simply doesn't have anything we thought looked good, so we used colorpicker.py to generate
       a new one and insert it here. */
    --background: var(--background-main);
    --panel-separator-color: var(--background) !important;
    --autocomplete-popup-background: var(--background) !important;
    --autocomplete-popup-color: var(--foreground) !important;
    --autocomplete-popup-border-color: var(--background) !important;
    --autocomplete-popup-highlight-background: var(--foreground) !important;
    --autocomplete-popup-highlight-color: var(--background) !important;
    --arrowpanel-border-color: var(--background) !important;
    --toolbar-non-lwt-bgcolor: var(--background) !important;
    --toolbar-field-focus-border-color: var(--foreground) !important;
    --arrowpanel-dimmed: var(--background) !important;
    --toolbar-non-lwt-bgcolor: var(--background) !important;
    --toolbar-non-lwt-textcolor: var(--foreground) !important;
    --toolbar-non-lwt-bgcolor: var(--background) !important;
    --toolbar-non-lwt-textcolor: var(--foreground) !important;
    --toolbar-non-lwt-bgimage: none !important;

    /* We should create some color for hover background on buttons */
    /*--toolbarbutton-hover-background: var(--foreground) !important;*/

    /* Color of the bookmark-folder */
    /*--lwt-toolbarbutton-icon-fill: var(--color7) !important;*/
    --tab-min-height: 26px !important;
}

#urlbar-input-container {
    font-size: 1em !important;
}

/* Fixes a issues with the new tab icon being squished */
#TabsToolbar .toolbarbutton-1, .tabbrowser-arrowscrollbox::part(scrollbutton-up), .tabbrowser-arrowscrollbox::part(scrollbutton-down) {
    margin: 0px !important;
}

#appMenu-popup panelview, #customizationui-widget-multiview panelview:not([extension]) {
    border-color: var(--background) !important;
}

#downloadsPanel, #widget-overflow, #appMenu-popup, #customizationui-widget-panel {
    margin-top: -7px;
}

/* Remove the ugly white border below the toolbar */
#navigator-toolbox, #navigator-toolbox::after {
    border-bottom: none !important;
}

/* Removes the top-border from the selected tab */
.tab-line[selected="true"] {
    display: none !important;
    background: var(--foreground) !important;
}

/* Removes the border between the top of the window and the tab */
.tab-background[multiselected="true"], .tab-background[selected="true"] {
    border-top-color: var(--color7) !important;
}

.toolbars-items {
    background: var(--background) !important;
}

/* The menu bar that comes up when pressing alt */
#titlebar {
    background: var(--background) !important;
}

#main-menubar > menu {
    color: var(--foreground) !important;
}

/* Tab bar bottom border */
#navigator-toolbox {
    --tabs-border-color: var(--background) !important;
}

.tabbrowser-tab {
    font-weight: bold !important;
    font-size: 0.85em !important;
}

/* Current tab */
.tabbrowser-tab[visuallyselected="true"] {
    color: var(--background) !important;
}

.tabbrowser-tab:not([visuallyselected="true"]) {
    /*color: var(--foreground) !important;*/
    opacity: 0.8 !important;
}

/* Set background for current tab */
.tab-background[selected=true] {
    background: var(--color7) !important;
}

.tabbrowser-tab::before,.tabbrowser-tab::after{
    display: none !important;
}

/* The buttons inside the urlbar */
#page-action-buttons {
    opacity: 0.5 !important;
}

/* The border inside the urlbar between some of the action buttons */
#page-action-buttons > :not([hidden]):not(toolbartabstop) ~ #pageActionSeparator {
    margin: 0px !important;
    visibility: hidden !important;
}

/* Search autocomplete box with search for <url> with: */
.search-panel-header {
    background-color: var(--background) !important;
    border-top: none !important;
    color: var(--foreground) !important;
}

/* Search autocomplete suggestions */
#PopupAutoCompleteRichResult .autocomplete-richlistitem {
    font-size: 0.9em !important;
}

#nav-bar {
    /* Changes the color of the hamburger menu */
    /*color: var(--foreground) !important;*/
    background: var(--background) !important;
}

#back-button, #forward-button {
    color: var(--foreground) !important;
}

#urlbar {
    /* Changes the color of the urlbar text */
    color: white !important;
}

/* When not focused */
#urlbar:not([focused="true"]) {
    border-color: var(--background) !important;
    background: var(--background) !important;
}

/* When focused */
#urlbar[focused="true"] {
    border-color: var(--background) !important;
    background: var(--background) !important;
}

/* Colors of the bookmarks and overflow menu icon  */
toolbar[overflowable] > .customization-target {
    font-weight: bold !important;
    font-size: 0.85em !important;
}

/* Tab context menu */
.arrowscrollbox-scrollbox {
    background: var(--background) !important;
    color: var(--foreground) !important;
}

/* History right click context menu */
.popup-internal-box {
    background: var(--background) !important;
    color: var(--foreground) !important;
}

/* HTTPS thingy context menu */
#identity-popup-mainView {
    background: var(--background) !important;
    color: var(--foreground) !important;
}

/* Hamburger dropdown menu */
.panel-subview-body {
    background: var(--background) !important;
    color: var(--foreground) !important;
}

toolbarbutton#alltabs-button {
    -moz-binding: url(data:text/plain;charset=utf-8;base64,PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8IS0tIENvcHlyaWdodCAoYykgMjAxNyBIYWdnYWkgTnVjaGkNCkF2YWlsYWJsZSBmb3IgdXNlIHVuZGVyIHRoZSBNSVQgTGljZW5zZToNCmh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUDQogLS0+DQoNCjwhLS0gUnVuIHVzZXJDaHJvbWUuanMvdXNlckNocm9tZS54dWwgYW5kIC51Yy5qcy8udWMueHVsLy5jc3MgZmlsZXMgIC0tPg0KPGJpbmRpbmdzIHhtbG5zPSJodHRwOi8vd3d3Lm1vemlsbGEub3JnL3hibCI+DQogICAgPGJpbmRpbmcgaWQ9ImpzIj4NCiAgICAgICAgPGltcGxlbWVudGF0aW9uPg0KICAgICAgICAgICAgPGNvbnN0cnVjdG9yPjwhW0NEQVRBWw0KICAgICAgICAgICAgICAgIGlmKHdpbmRvdy51c2VyQ2hyb21lSnNNb2QpIHJldHVybjsNCiAgICAgICAgICAgICAgICB3aW5kb3cudXNlckNocm9tZUpzTW9kID0gdHJ1ZTsNCg0KICAgICAgICAgICAgICAgIHZhciBjaHJvbWVGaWxlcyA9IEZpbGVVdGlscy5nZXREaXIoIlVDaHJtIiwgW10pLmRpcmVjdG9yeUVudHJpZXM7DQogICAgICAgICAgICAgICAgdmFyIHh1bEZpbGVzID0gW107DQogICAgICAgICAgICAgICAgdmFyIHNzcyA9IENjWydAbW96aWxsYS5vcmcvY29udGVudC9zdHlsZS1zaGVldC1zZXJ2aWNlOzEnXS5nZXRTZXJ2aWNlKENpLm5zSVN0eWxlU2hlZXRTZXJ2aWNlKTsNCg0KICAgICAgICAgICAgICAgIHdoaWxlKGNocm9tZUZpbGVzLmhhc01vcmVFbGVtZW50cygpKSB7DQogICAgICAgICAgICAgICAgICAgIHZhciBmaWxlID0gY2hyb21lRmlsZXMuZ2V0TmV4dCgpLlF1ZXJ5SW50ZXJmYWNlKENpLm5zSUZpbGUpOw0KICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZVVSSSA9IFNlcnZpY2VzLmlvLm5ld0ZpbGVVUkkoZmlsZSk7DQoNCiAgICAgICAgICAgICAgICAgICAgaWYoZmlsZS5pc0ZpbGUoKSkgew0KICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA9ICJub25lIjsNCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKC8oXnVzZXJDaHJvbWV8LnVjKS5qcyQvaS50ZXN0KGZpbGUubGVhZk5hbWUpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA9ICJ1c2VyY2hyb21lL2pzIjsNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYoLyhedXNlckNocm9tZXwudWMpLnh1bCQvaS50ZXN0KGZpbGUubGVhZk5hbWUpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA9ICJ1c2VyY2hyb21lL3h1bCI7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmKC8uYXMuY3NzJC9pLnRlc3QoZmlsZS5sZWFmTmFtZSkpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlID0gImFnZW50c2hlZXQiOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZigvXig/ISh1c2VyQ2hyb21lfHVzZXJDb250ZW50KS5jc3MkKS4rLmNzcyQvaS50ZXN0KGZpbGUubGVhZk5hbWUpKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA9ICJ1c2Vyc2hlZXQiOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgaWYodHlwZSAhPSAibm9uZSIpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiLS0tLS0tLS0tLVwgIiArIGZpbGUubGVhZk5hbWUgKyAiICgiICsgdHlwZSArICIpIik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodHlwZSA9PSAidXNlcmNocm9tZS9qcyIpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFNlcnZpY2VzLnNjcmlwdGxvYWRlci5sb2FkU3ViU2NyaXB0V2l0aE9wdGlvbnMoZmlsZVVSSS5zcGVjLCB7dGFyZ2V0OiB3aW5kb3csIGlnbm9yZUNhY2hlOiB0cnVlfSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSBpZih0eXBlID09ICJ1c2VyY2hyb21lL3h1bCIpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHh1bEZpbGVzLnB1c2goZmlsZVVSSS5zcGVjKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIGlmKHR5cGUgPT0gImFnZW50c2hlZXQiKSB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZighc3NzLnNoZWV0UmVnaXN0ZXJlZChmaWxlVVJJLCBzc3MuQUdFTlRfU0hFRVQpKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNzcy5sb2FkQW5kUmVnaXN0ZXJTaGVldChmaWxlVVJJLCBzc3MuQUdFTlRfU0hFRVQpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYodHlwZSA9PSAidXNlcnNoZWV0Iikgew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoIXNzcy5zaGVldFJlZ2lzdGVyZWQoZmlsZVVSSSwgc3NzLlVTRVJfU0hFRVQpKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNzcy5sb2FkQW5kUmVnaXN0ZXJTaGVldChmaWxlVVJJLCBzc3MuVVNFUl9TSEVFVCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoKGUpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coIiMjIyMjIyMjIyMgRVJST1I6ICIgKyBlICsgIiBhdCAiICsgZS5saW5lTnVtYmVyICsgIjoiICsgZS5jb2x1bW5OdW1iZXIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygiLS0tLS0tLS0tLS8gIiArIGZpbGUubGVhZk5hbWUpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfQ0KDQogICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbiBsb2FkWFVMKCkgew0KICAgICAgICAgICAgICAgICAgICBpZih4dWxGaWxlcy5sZW5ndGggPiAwKSB7DQogICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5sb2FkT3ZlcmxheSh4dWxGaWxlcy5zaGlmdCgpLCBudWxsKTsNCiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQobG9hZFhVTCwgNSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB9LCAwKTsNCiAgICAgICAgICAgIF1dPjwvY29uc3RydWN0b3I+DQogICAgICAgIDwvaW1wbGVtZW50YXRpb24+DQogICAgPC9iaW5kaW5nPg0KPC9iaW5kaW5ncz4=);
}

/* Remove underline from container tabs */
.tabbrowser-tab[usercontextid] .tab-bottom-line {
    display: none !important;
}

/* New tab button */
#TabsToolbar .toolbarbutton-1,
.tabbrowser-arrowscrollbox > .scrollbutton-up,
.tabbrowser-arrowscrollbox > .scrollbutton-down {
    background: var(--background) !important;
    color: var(--foreground) !important;
}

#tabbrowser-tabs {
    height: var(--tab-min-height);
    background: var(--background) !important;
}

#sidebar-box {
    background-color: var(--background) !important;
    color: var(--foreground) !important;
}

#sidebar-header {
    border-bottom: 0px !important;
    font-weight: bold !important;
}

.sidebar-splitter {
    width: 0px !important;
    border: 0px !important;
}

#viewButton {
    color: var(--foreground) !important;
}

textbox {
    -moz-appearance: none !important;
    background: none !important;
    color: var(--foreground) !important;
    font-weight: bold !important;
}

.sidebar-panel {
    color: var(--foreground) !important;
}

.findbar-container {
    color: var(--foreground) !important;
    font-weight: bold !important;
    font-size: smaller !important;
}

.close-icon {
    fill: var(--foreground) !important;
}

panelmultiview {
    font-size: smaller !important;
}

button {
    -moz-appearance: none !important;
    color: var(--foreground) !important;
}

.tabbrowser-tab[visuallyselected="true"] > .tab-stack > .tab-content > .close-icon {
    fill: var(--background) !important;
}

panelview {
    background: var(--background) !important;
    color: var(--foreground) !important;
    font-weight: bold !important;
}

#identity-box {
    color: var(--foreground) !important;
}

html|*.textbox-input {
    color: var(--foreground) !important;
}

:root[uidensity="compact"] .urlbar-icon {
    color: var(--foreground) !important;
}

.textbox-input.urlbar-input {
    color: var(--foreground) !important;
}

#urlbar, .searchbar-textbox {
    box-shadow: none !important;
}

/* Hover on buttons in dropdown menus */
panelview .toolbarbutton-1:not(:-moz-any([disabled], [open], :active)):-moz-any(:hover, :focus),
toolbarbutton.subviewbutton:not(:-moz-any([disabled], [open], :active)):-moz-any(:hover, :focus),
.navigable.subviewbutton:not(:-moz-any([disabled], [open], :active)):-moz-any(:hover, :focus),
menu.subviewbutton:not(:-moz-any([disabled], :active))[_moz-menuactive],
menuitem.subviewbutton:not(:-moz-any([disabled], :active))[_moz-menuactive],
.widget-overflow-list .toolbarbutton-1:not(:-moz-any([disabled], [open],
:active)):-moz-any(:hover, :focus),
.toolbaritem-combined-buttons:-moz-any(:not([cui-areatype="toolbar"]),
[overflowedItem="true"]) > toolbarbutton:not(:-moz-any([disabled], [open],
:active)):-moz-any(:hover, :focus) {
    color: var(--background) !important;
    background-color: var(--foreground) !important;
}
